<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <fileinfo>
    <info_todo>Need to add Dread Sorcerer spells to Sorcerer spell list.</info_todo>
    </fileinfo>
  <thing id="c5CDrkVsn" name="Darkvision" description="When you choose this tradition at 2nd level, you gain darkvision to 60 feet. If you already have darkvision, its range increases by 30 feet. This is a magical effect." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CFlkrCnd" name="Flickering Candle" description="Also at 2nd level, you learn the dancing lights cantrip. If you already know this cantrip, you learn a different wizard cantrip of your choice. The cantrip doesn’t count against your number of cantrips known.\n\nWhen you cast dancing lights, you have the additional option of combining all four into a single hovering mass of unreal flame. If you choose this option, the “light” they shed can dim the ambient light as well as brighten it, allowing you to lower bright light  to dim light in the area or brighten darkness to dim light." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CMystShd" name="Mysteries of Shadow" description="Starting at 6th level, you develop the ability to infuse some of your spells with the essence of shadow. You can use this ability twice between short or long rests.\n\nUsing Mysteries of Shadow requires a bonus action. Choose one of the following two effects:\n\n• Conjure Shadow: By casting major image before the end of your next turn, you can duplicate the effect of any conjure [creature] spell, such as conjure animals or conjure woodland beings, instead of major image’s usual effects. The spell slot used to cast major image must be equal to or greater than the level of the conjure spell you wish to duplicate. For instance, if you are duplicating conjure woodland beings, a 4th-level spell, you must cast major image in a spell slot of 4th level or greater. \nThe creatures you summon in this fashion are only partially real, made up of illusion and the essence of shadow. They deal half normal damage, possess half their normal hit points, have half the normal carrying capacity, and suffer disadvantage on all Strength checks.\n\n• Evoke Shadow: The next damage-dealing spell you cast, before the end of your next turn, is infused with shadow. Half the damage it deals\nis of the spell’s normal type; the other half is shadow damage. If the spell affects only a single target, you can choose to attempt to knock that target out rather than kill it, as though you were making a melee weapon attack." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CSprlShd" name="Sprawling Shadow" description="Also at 6th level, you gain additional power over, and within, darkness and shadow. You acquire the following powers and benefits.\n\n• The range and area of effect of the darkness spell is doubled when you cast it.\n• As a bonus action, you can cause your darkvision to function even in magical darkness. This ability lasts for one minute, and you cannot\nuse it again until you complete a short or long rest.\n• When casting any illusion spell, or any spell modified by your Mysteries of Shadow abilities, you gain a benefit based on the amount of light\naround you. If you stand in bright light, the spell’s range increases by half. If you are in dim light, you do not suffer disadvantage for casting the spell while adjacent to an enemy. If you are in darkness, you gain advantage on Constitution saves to maintain concentration on that spell." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CDprMyst" name="Deeper Mysteries" description="At 10th level, you can use your Mysteries of Shadow ability three times between rests, rather than two. In addition, you gain a third potential use of your Mysteries.\n\n• Caul of Shadow: When you cast an illusion spell, or any spell modified by Conjure Shadow or Evoke Shadow, before the end of your next\nturn, you can also change the light in your vicinity. In a 20-ft. radius around you, the area becomes brightly lit, dimly lit, or dark, as you prefer, regardless of other light sources. This effect lasts for one minute, unless you choose to end it sooner. Although magical in origin, this is not “magical darkness” per se; darkvision and similar abilities function within. If you are under the influence of an illusion spell with a target of “self,” you can use Caul of Shadow as an action without needing to cast a spell." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CLingShd" name="Lingering Shadow" description="Also at 10th level, any objects you create via the creation spell last twice as long as listed." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CSupMyst" name="Supreme Mysteries" description="Upon reaching 14th level, you can use your Mysteries of Shadow ability four times between rests. In addition, you gain a fourth potential use of your Mysteries.\n• Shadow Reality: Other than its requirement that you spend a Mystery of Shadow usage to invoke, this is identical to the Illusory Reality ability granted by the School of Illusion." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="dt5CShadow" name="Shadow" description="“Shadow,” as a damage type, is a mixture of cold and necrotic. A target’s vulnerabilities, resistances, and immunities apply to shadow damage only if they affect both cold and necrotic damage." compset="DamageType"></thing>
  <thing id="c5CClgName" name="College of Names" description="All bards tap into the truth of the multiverse, using primal notes and the words of creation to shape their magic. Some choose to go eyond the rest, however, delving into true names and divine language, seeking an absolute understanding of existence’s very essence. By naming a thing—not via mere speech, but the language of the cosmos and the soul —these bards learn to command and control it. Thus do they take one more step toward a true understanding of everything.\n\nMost College of Name bards study on their own. When they assemble, it is usually in ancient archives, ruins full of hidden lore, or sacred and primordial places." compset="CustomSpec" uniqueness="unique">
    <usesource source="EN5_21"/>
    <tag group="SpecSource" tag="cHelpBrd"/>
    <tag group="abCategory" tag="BrdCollege"/>
    <bootstrap thing="c5CTrueLng">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CTrueUnd">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CAddlMgc">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CImpUndr">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CTrueLng" name="True Language Casting" description="When you join the College of Names at 3rd level, you gain the ability to cast certain spells with a mere utterance. When casting a True Language spell, you ignore somatic components and material components with a cost of 10 gp or lower. All such spells require a verbal component, however, even if they normally do not." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CTrueUnd" name="True Understanding" description="Starting at 3rd level, you gain the ability to make a “True Understanding” check against a single target. This is a bonus action, and requires you to spend one use of your Bardic Inspiration. If the target is an unwilling creature, make an opposed Intelligence (Arcana) check against the target’s Constitution or Wisdom saving throws (their choice). Against a willing target or an unattended non-magical object, your Arcana check is made against a DC 10 (or 8, if you yourself are the target). Against an unattended magical object or the environment around you,  the DC is 20. Certain powerful or unique magical items, or an environment with mystical significance, might require higher rolls at the GM’s discretion. \n\nIf you succeed, you gain the following benefits. These apply only to True Language spells that you yourself cast against the target (and apply only to that target, even if the spell that affects more than one).\n\n• Any non-damaging dice—such as dice rolled for healing, bonus or penalty dice (as in the spell bane), caster level checks (as in the spell dispel magic), and so forth--are rolled twice. Use the higher result.\n• The spell’s range is doubled.\n• If the spell requires concentration, it ends at the end of your turn on the round after you cease concentrating, rather than the moment you cease concentrating (unless you wish it to end earlier).\n• If your True Understanding check succeeded by 5 or more, the target has disadvantage on saving throws against your True Language spells.\n\nThese effects last for one minute, until the target dies, or until you make a True Understanding check against a different target.  If your True Understanding check fails, you may not attempt a True Understanding check against that same target for 24 hours." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CImpUndr" name="Improved Understanding" description="Starting at 14th level, you are only required to spend a use of Bardic Inspiration when making a True Understanding check if the check succeeds. If your attempt fails, no use of Bardic Inspiration is lost.\n\nIn addition, you may grant yourself or an ally a Bardic Inspiration die, as per the normal use of the ability, as part of the same bonus action in which you attempt a True Understanding check. (This costs two Inspiration dice—one to activate the True Understanding check and one granted as normal— and is an exception to the rule that you can normally spend only a single use of Bardic Inspiration at a time.) Once\nyou have used this ability, you must complete a short or long rest before you can do so again" compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CAddlMgc" name="Additional Magical Secrets" description="At 6th level, you learn two additional spells and one additional cantrip of your choice. These spells may come from any class, but must qualify as True Language spells (see sidebar). A spell you choose must be of a level you can cast, as shown on the Bard table, or a cantrip. The chosen spells count as bard spells for you but don’t count against the number of bard spells you know." compset="ClSpecial" summary="Add two spells of your choice to your spell list.">
    <fieldval field="usrCandid1" value="component.BaseSpell"/>
    <fieldval field="usrCandid2" value="component.BaseSpell"/>
    <usesource source="EN5_21"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="ChooseSrc2" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        perform field[usrChosen1].chosen.pulltags[ClsAllowSp.?]
        endif

      if (field[usrChosen2].ischosen <> 0) then
        perform field[usrChosen2].chosen.pulltags[ClsAllowSp.?]
        endif

      if (root.tagis[component.Class] <> 0) then
        perform root.pushtags[ClsAllowSp.?]
      elseif (root.tagis[component.BaseCustSp] <> 0) then
        perform root.linkage[table].pushtags[ClsAllowSp.?]
        endif]]></eval>
    <evalrule phase="PostLevel" priority="10000" message="Must add chosen spells to spells known!" summary="Must add chosen spells to spells known!"><![CDATA[
      validif (tagis[Helper.ShowSpec] = 0)

      validif (tagis[Helper.Disable] <> 0)

      var spellname1 as string
      var spellname2 as string
      var searchexpr as string
      var messnames as string
      var foundone as number

      @valid = 1

      if (field[usrChosen1].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen1].chosen.idstring & " & SpellType.cHelpBrd & (Helper.Known | Helper.Cantrip)"

        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the College of lore, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.cBrdColLor] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname1 = field[usrChosen1].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (field[usrChosen2].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen2].chosen.idstring & " & SpellType.cHelpBrd & (Helper.Known | Helper.Cantrip)"

        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the College of lore, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.cBrdColLor] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname2 = field[usrChosen2].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (@valid = 0) then
        messnames = splice(messnames, spellname1, ", ")
        messnames = splice(messnames, spellname2, ", ")
        @message = "You have selected the following spells for Magical Secrets but not added them to your Bard spells known: " & messnames
        endif]]></evalrule>
    </thing>
  <thing id="c5CDread" name="Dread" description="The essence of undeath—the antithesis of life—permeates your soul. Is your bloodline cursed? Were you born in the shadow of a vampire’s castle, or from parents experimented upon by a vile lich? Are you ridden by the spirit of a long-dead ancestor? Should you have died in the womb, holding on only through some undeveloped iron will or stroke of luck? Or is the answer far more sinister, a secret to which even you are not privy?" compset="CustomSpec" uniqueness="unique">
    <usesource source="EN5_21"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="SpecSource" tag="cHelpSor"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="c5CGraveBr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CCntlUnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CSknGrve">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CTchGrve">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CVceGrav">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CFlshGrv">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CGraveBr" name="Graveborn" description="Due to the touch of death on your soul, you gain the following spells at the listed sorcerer level. These spells do not count against the number of sorcerer spells you know." compset="ClSpecial">
    <bootstrap thing="spAnimDead">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spAntiShel">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spBane">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spBlight">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spDeatWard">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spGentRepo">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spRayEnfe">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="sp5CRaySi">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spSpeaDead">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    </thing>
  <thing id="c5CCntlUnd" name="Control Undead" description="Starting at 1st level, as an action, you can target one undead that you can see within 30 feet. The target undead must make a Wisdom saving throw against your sorcerer spell save DC. On a failed save, the target must obey your commands for the next 24 hours, until you use this power again or until you or an ally of yours attack it. Undead whose challenge rating is equal to or greater than your sorcerer level are  immune to this effect. Once you use this power, you must complete a long rest before you can do so again." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CTchGrve" name="Touch of the Grave" description="At 6th level, you gain resistance to necrotic and poison damage. In addition, when you take poison or necrotic damage, you can “store” some of that energy for later use. Once, before your next rest, you can release that stored energy as a bonus action, or as a reaction to being hit with a weapon attack. This deals necrotic damage equal to half your sorcerer level to all living creatures within 20 feet. You may only have one such attack “stored” at any given time." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CVceGrav" name="Voice of the Grave" description="Also at 6th level, add your proficiency bonus when making a Deception, Intimidation, or Persuasion check against an undead creature. (If you are already proficient in that skill, you effectively double your proficiency bonus for the relevant check)." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CSknGrve" name="Skin of the Grave" description="At 14th level, your Control Undead ability recharges on a short rest. In addition, your body takes on some traits of undeath. You gain resistance to bludgeoning, piercing, and slashing damage from nonmagical weapons that aren’t silvered. Spells such as detect evil and good detect you as though you were undead." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CFlshGrv" name="Flesh of the Grave" description="At 18th level, you take on further undead traits. You no longer need to eat, drink, breathe, or sleep (though you still require four hours of rest, similar to the elven trance, to complete a long rest). You become immune to poison damage, the poisoned condition, and to bludgeoning, piercing, and slashing damage from nonmagical weapons that aren’t silvered." compset="ClSpecial">
    <usesource source="EN5_21"/>
    </thing>
  <thing id="c5CShdwCal" name="Shadowcaller" description="Only the wisest of sages and the most learned of wizards realize how utterly mistaken most people are about the nature of light and dark. Darkness isn’t the mere absence of light, but a force unto itself. Creeping. Primal. Endless. And you have come to understand that only the bravest of those wizards dare seek mastery over the first element and first power that is shadow itself.\n\nThe tradition of the shadowcaller is rare—combining elements of conjuration, illusion, and necromancy with other threads all its own—and\nviewed with mistrust by most who know of it. You know, however, that that it is potentially the most potent practice of magic in existence.  What you do with that power, whether you prove them all right or wrong in their doubts and fears, is up to you." compset="CustomSpec" uniqueness="unique">
    <usesource source="EN5_21"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="abCategory" tag="WizArcTrad"/>
    <tag group="SpecSource" tag="cHelpWiz"/>
    <bootstrap thing="c5CFlkrCnd">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CMystShd">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CSprlShd">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CDprMyst">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CLingShd">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CSupMyst">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CDrkVsn">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    </thing>
  </document>
