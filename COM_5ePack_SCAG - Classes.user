<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="c5CWIZBld" name="Bladesinging" description="Bladesingers are elves.\nThey are brave and defend their kind. \nThey are elf wizards who train sword fighting complimented with arcane magic." compset="CustomSpec" summary="Bladesingers are elves who bravely defend their people and lands." uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="SpecSource" tag="cHelpWiz" name="Wizard" abbrev="Wizard"/>
    <tag group="abCategory" tag="WizArcTrad" name="Wizard Arcane Tradition" abbrev="Wizard Arcane Tradition"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="ProductId" tag="Wizards"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="c5CWizSoD">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWizSoV">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CWizTiWS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CWizBlS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cExtraAtt">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <exprreq message="You must be an elf or half-elf to become a Bladesinger."><![CDATA[#hasrace[rElf] + #hasrace[rHalfElf] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWizTiWS" name="Training in War and Song" description="When you adopt this tradition at 2nd level, you gain proficiency with light armor, and you gain proficiency with one type of one-handed melee weapon of your choice.\n\nYou also gain proficiency in the Performance skill if you don&apos;t already have it." compset="ClSpecial" summary="Training in War and Song">
    <fieldval field="usrCandid1" value="component.BaseWep &amp; !wProperty.TwoHanded &amp; wCategory.Melee &amp; !wGroup.Natural &amp; !Helper.Helper"/>
    <usesource source="5eSCAGCP"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="500" index="2"><![CDATA[ ~If we're not selected, get out

      doneif (tagis[Helper.Disable] <> 0)

      perform hero.assign[ProfSkill.skPerform]
      perform hero.assign[ArmProfGrp.ArmorLight]

      ~ If we've not chosen anything, get out
      doneif (field[usrChosen1].ischosen = 0)

      ~ Assign the identity tag for the proficiency
      var id as string
      id = field[usrChosen1].chosen.idstring
      perform field[usrChosen1].chosen.forward[WepProf.?]
      foreach pick in hero where "IsWeapon." & id
        perform eachpick.assign[Broadcast.WepProf]
        perform eachpick.assign[Helper.ExoticProf]
        nexteach]]></eval>
    <eval phase="First"><![CDATA[~ Stop if this class special is disabled
doneif (tagis[Helper.Disable] <> 0)

perform hero.assign[ProfSkill.skPerform]]]></eval>
    </thing>
  <thing id="c5CWizBlS" name="Bladesong" description="Starting at 2nd level, you can invoke a secret elven magic called the Bladesong, provided that you aren&apos;t wearing medium or heavy armor or using a shield. It graces you with supernatural speed, agility, and focus. \n\nYou can use a bonus action to start the Bladesong, which lasts for 1 minute. It ends early if you are incapacitated, if you don medium or heavy armor or a shield, or if you use two hands to make an attack with a weapon. You can also dismiss the Bladesong at any time you choose (no action required). \n\nWhile your Bladesong is active, you gain the following benefits: \n• You gain a bonus to your AC equal to your Intelligence modifier (minimum of +1). \n• Your walking speed increases by 10 feet. \n• You have advantage on Dexterity (Acrobatics) checks. \n• You gain a bonus to any Constitution saving throw you make to maintain your concentration on a spell. The bonus equals your Intelligence modifier (minimum of +1). \n\nYou can use this feature twice. You regain all expended uses of it when you finish a short or long rest." compset="ClSpecial" summary="You can invoke a secret elven magic called the Bladesong.">
    <fieldval field="abRange" value="Self"/>
    <fieldval field="abDuration" value="1"/>
    <fieldval field="actName" value="Bladesong"/>
    <fieldval field="trkMax" value="2"/>
    <usesource source="5eSCAGCP"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="User" tag="Activation"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="PostAttr">field[abValue].value = #attrbonus1[aINT]</eval>
    <eval phase="PostAttr" priority="1000" index="2"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      doneif (field[abilActive].value = 0)

hero.childfound[ArmorClass].field[Bonus].value += field[abValue].value
hero.child[Speed].field[Bonus].value += 10
#situational[hero.child[svCON],"+ Intelligence Modifier (minimum 1) to maintain concentration",field[thingname].text]
#situational[hero.child[skAcrobat],"Advantage on Acrobatics checks",field[thingname].text]

doneif (#levelcount[Wizard] < 14)

       foreach pick in hero from BaseWep where "wCategory.Melee"
           eachpick.field[dmmBonus].value += field[abValue].value
       nexteach]]></eval>
    </thing>
  <thing id="c5CWizSoD" name="Song of Defense" description="Beginning at 10th level, you can direct your magic to absorb damage while your Bladesong is active. When you take damage, you can use your reaction to expend one spell slot and reduce that damage to you by an amount equal to five times the spell slot&apos;s level." compset="ClSpecial" summary="Spell Slots can be used for defense.">
    <usesource source="5eSCAGCP"/>
    </thing>
  <thing id="c5CWizSoV" name="Song of Victory" description="Starting at 14th level, you add your Intelligence modifier (minimum of +1) to the damage of your melee weapon attacks while your Bladesong is active." compset="ClSpecial" summary="Intelligence adds Damage">
    <usesource source="5eSCAGCP"/>
    </thing>
  </document>
